// import clientPromise from '@/lib/mongo';

// export const runtime = 'nodejs';

// const MIDI_SPECS = {
//   'Габаритные размеры, мм (Д×Ш×В)': '850×380×760',
//   'Глубина топочной камеры, мм': 400,
//   'Длина портала, мм': 205,
//   'Диаметр дымохода, мм': 115,
//   'Выход дымохода': 'Вверх',
//   'Масса печи, кг': 63,
//   'Объем парильного помещения, м³': '8–25',
//   'Вид топлива': 'дрова, пеллеты',
//   'Гарантийный срок, лет': 5,
//   'Марка стали': 'Жаропрочная пищевая сталь AISI321',
//   'Толщина стали, мм': '2–3',
//   'Размер топочной дверцы (Ш×В), мм': '340×370',
//   'Тип дверцы': 'чугунная со стеклом',
//   'Система «Чистое стекло»': 'Есть',
//   'Поддувало с совком-зольником': 'Есть',
//   Колосник: 'чугунный 250×180',
//   'Тип кожуха': 'конвекционный',
//   'Материал кожуха': 'нержавеющая сталь AISI430, 1 мм',
//   'Размер стекла (Ш×В), мм': '240×200',
//   'Масса камней, кг': 55,
//   'Тип каменки': 'открытая в сетке',
//   'Система дожигания газов': 'Есть',
//   Комплектация:
//     'чугунный колосник, дверца со стеклом, сетка для камней, зольник',
// };

// const PRO_SPECS = {
//   'Габаритные размеры, мм (Д×Ш×В)': '900×480×950',
//   'Глубина топочной камеры, мм': 450,
//   'Длина портала, мм': 205,
//   'Диаметр дымохода, мм': 115,
//   'Выход дымохода': 'Вверх',
//   'Масса печи, кг': 90,
//   'Объем парильного помещения, м³': '20–40',
//   'Вид топлива': 'дрова, пеллеты',
//   'Гарантийный срок, лет': 5,
//   'Марка стали': 'Жаропрочная пищевая сталь AISI321',
//   'Толщина стали, мм': '2–3',
//   'Размер топочной дверцы (Ш×В), мм': '340×370',
//   'Тип дверцы': 'чугунная со стеклом',
//   'Система «Чистое стекло»': 'Есть',
//   'Поддувало с совком-зольником': 'Есть',
//   Колосник: 'чугунный 250×250',
//   'Тип кожуха': 'конвекционный',
//   'Материал кожуха': 'нержавеющая сталь AISI430, 1 мм',
//   'Размер стекла (Ш×В), мм': '240×200',
//   'Масса камней, кг': 80,
//   'Тип каменки': 'открытая в сетке',
//   'Система дожигания газов': 'Есть',
//   Комплектация:
//     'чугунный колосник, дверца со стеклом, сетка для камней, зольник',
// };

// export async function POST(req) {
//   const auth = req.headers.get('authorization') || '';
//   if (auth !== `Bearer ${process.env.ADMIN_TOKEN}`) {
//     return new Response('Unauthorized', { status: 401 });
//   }

//   const client = await clientPromise;
//   const db = client.db('klv-pech');

//   const [midiRes, proRes] = await Promise.all([
//     db
//       .collection('products')
//       .updateOne({ slug: 'pech-midi' }, { $set: { specs: MIDI_SPECS } }),
//     db
//       .collection('products')
//       .updateOne({ slug: 'pech-pro' }, { $set: { specs: PRO_SPECS } }),
//   ]);

//   return Response.json({
//     ok: true,
//     midi: { matched: midiRes.matchedCount, modified: midiRes.modifiedCount },
//     pro: { matched: proRes.matchedCount, modified: proRes.modifiedCount },
//   });
// }

// // на всякий случай запретим GET
// export async function GET() {
//   return new Response('Method Not Allowed', { status: 405 });
// }
